!function(){"use strict";const t=new class{constructor(t){this.nativeApi=t}onTap(t){this.nativeApi.onTap(JSON.stringify(t))}onLinkActivated(t,e){this.nativeApi.onLinkActivated(t,e)}}(window.gestures),e={onTap:e=>{const n={x:e.clientX*visualViewport.scale,y:e.clientY*visualViewport.scale};t.onTap(n)},onLinkActivated:(e,n)=>{t.onLinkActivated(e,n)}};new class{constructor(t,e){this.window=t,this.listener=e,document.addEventListener("click",(t=>{this.onClick(t)}),!1)}onClick(t){if(t.defaultPrevented)return;const e=this.window.getSelection();if(e&&"Range"==e.type)return;let n;n=t.target instanceof HTMLElement?this.nearestInteractiveElement(t.target):null,n?n instanceof HTMLAnchorElement&&this.listener.onLinkActivated(n.href,n.outerHTML):this.listener.onTap(t),t.stopPropagation(),t.preventDefault()}nearestInteractiveElement(t){return null==t?null:-1!=["a","audio","button","canvas","details","input","label","option","select","submit","textarea","video"].indexOf(t.nodeName.toLowerCase())||t.hasAttribute("contenteditable")&&"false"!=t.getAttribute("contenteditable").toLowerCase()?t:t.parentElement?this.nearestInteractiveElement(t.parentElement):null}}(window,e),Window.prototype.readiumcss=new class{constructor(t){this.document=t}setProperties(t){for(const[e,n]of t)this.setProperty(e,n)}setProperty(t,e){null===e||""===e?this.removeProperty(t):document.documentElement.style.setProperty(t,e,"important")}removeProperty(t){document.documentElement.style.removeProperty(t)}}(window.document),window.initialization.onScriptsLoaded(),window.addEventListener("load",(t=>{window.initialization.onDocumentLoaded()}))}();
//# sourceMappingURL=reflowable-injectable-script.js.map